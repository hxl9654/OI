#include<stdio.h>
#include<stdlib.h>
#include<math.h>
int father[4001][2],zhi[4001]={0,0,2,3,0,5,0,7,0,0,0,11,0,13,0,0,0,17,0,19,0,0,0,23,0,0,0,0,0,29,0,31,0,0,0,0,0,37,0,0,0,41,0,43,0,0,0,47,0,0,0,0,0,53,0,0,0,0,0,59,0,61,0,0,0,0,0,67,0,0,0,71,0,73,0,0,0,0,0,79,0,0,0,83,0,0,0,0,0,89,0,0,0,0,0,0,0,97,0,0,0,101,0,103,0,0,0,107,0,109,0,0,0,113,0,0,0,0,0,0,0,0,0,0,0,0,0,127,0,0,0,131,0,0,0,0,0,137,0,139,0,0,0,0,0,0,0,0,0,149,0,151,0,0,0,0,0,157,0,0,0,0,0,163,0,0,0,167,0,0,0,0,0,173,0,0,0,0,0,179,0,181,0,0,0,0,0,0,0,0,0,191,0,193,0,0,0,197,0,199,0,0,0,0,0,0,0,0,0,0,0,211,0,0,0,0,0,0,0,0,0,0,0,223,0,0,0,227,0,229,0,0,0,233,0,0,0,0,0,239,0,241,0,0,0,0,0,0,0,0,0,251,0,0,0,0,0,257,0,0,0,0,0,263,0,0,0,0,0,269,0,271,0,0,0,0,0,277,0,0,0,281,0,283,0,0,0,0,0,0,0,0,0,293,0,0,0,0,0,0,0,0,0,0,0,0,0,307,0,0,0,311,0,313,0,0,0,317,0,0,0,0,0,0,0,0,0,0,0,0,0,331,0,0,0,0,0,337,0,0,0,0,0,0,0,0,0,347,0,349,0,0,0,353,0,0,0,0,0,359,0,0,0,0,0,0,0,367,0,0,0,0,0,373,0,0,0,0,0,379,0,0,0,383,0,0,0,0,0,389,0,0,0,0,0,0,0,397,0,0,0,401,0,0,0,0,0,0,0,409,0,0,0,0,0,0,0,0,0,419,0,421,0,0,0,0,0,0,0,0,0,431,0,433,0,0,0,0,0,439,0,0,0,443,0,0,0,0,0,449,0,0,0,0,0,0,0,457,0,0,0,461,0,463,0,0,0,467,0,0,0,0,0,0,0,0,0,0,0,479,0,0,0,0,0,0,0,487,0,0,0,491,0,0,0,0,0,0,0,499,0,0,0,503,0,0,0,0,0,509,0,0,0,0,0,0,0,0,0,0,0,521,0,523,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,541,0,0,0,0,0,547,0,0,0,0,0,0,0,0,0,557,0,0,0,0,0,563,0,0,0,0,0,569,0,571,0,0,0,0,0,577,0,0,0,0,0,0,0,0,0,587,0,0,0,0,0,593,0,0,0,0,0,599,0,601,0,0,0,0,0,607,0,0,0,0,0,613,0,0,0,617,0,619,0,0,0,0,0,0,0,0,0,0,0,631,0,0,0,0,0,0,0,0,0,641,0,643,0,0,0,647,0,0,0,0,0,653,0,0,0,0,0,659,0,661,0,0,0,0,0,0,0,0,0,0,0,673,0,0,0,677,0,0,0,0,0,683,0,0,0,0,0,0,0,691,0,0,0,0,0,0,0,0,0,701,0,0,0,0,0,0,0,709,0,0,0,0,0,0,0,0,0,719,0,0,0,0,0,0,0,727,0,0,0,0,0,733,0,0,0,0,0,739,0,0,0,743,0,0,0,0,0,0,0,751,0,0,0,0,0,757,0,0,0,761,0,0,0,0,0,0,0,769,0,0,0,773,0,0,0,0,0,0,0,0,0,0,0,0,0,787,0,0,0,0,0,0,0,0,0,797,0,0,0,0,0,0,0,0,0,0,0,809,0,811,0,0,0,0,0,0,0,0,0,821,0,823,0,0,0,827,0,829,0,0,0,0,0,0,0,0,0,839,0,0,0,0,0,0,0,0,0,0,0,0,0,853,0,0,0,857,0,859,0,0,0,863,0,0,0,0,0,0,0,0,0,0,0,0,0,877,0,0,0,881,0,883,0,0,0,887,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,907,0,0,0,911,0,0,0,0,0,0,0,919,0,0,0,0,0,0,0,0,0,929,0,0,0,0,0,0,0,937,0,0,0,941,0,0,0,0,0,947,0,0,0,0,0,953,0,0,0,0,0,0,0,0,0,0,0,0,0,967,0,0,0,971,0,0,0,0,0,977,0,0,0,0,0,983,0,0,0,0,0,0,0,991,0,0,0,0,0,997,0,0,0,0,0,0,0,0,0,0,0,1009,0,0,0,1013,0,0,0,0,0,1019,0,1021,0,0,0,0,0,0,0,0,0,1031,0,1033,0,0,0,0,0,1039,0,0,0,0,0,0,0,0,0,1049,0,1051,0,0,0,0,0,0,0,0,0,1061,0,1063,0,0,0,0,0,1069,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1087,0,0,0,1091,0,1093,0,0,0,1097,0,0,0,0,0,1103,0,0,0,0,0,1109,0,0,0,0,0,0,0,1117,0,0,0,0,0,1123,0,0,0,0,0,1129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1151,0,1153,0,0,0,0,0,0,0,0,0,1163,0,0,0,0,0,0,0,1171,0,0,0,0,0,0,0,0,0,1181,0,0,0,0,0,1187,0,0,0,0,0,1193,0,0,0,0,0,0,0,1201,0,0,0,0,0,0,0,0,0,0,0,1213,0,0,0,1217,0,0,0,0,0,1223,0,0,0,0,0,1229,0,1231,0,0,0,0,0,1237,0,0,0,0,0,0,0,0,0,0,0,1249,0,0,0,0,0,0,0,0,0,1259,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1277,0,1279,0,0,0,1283,0,0,0,0,0,1289,0,1291,0,0,0,0,0,1297,0,0,0,1301,0,1303,0,0,0,1307,0,0,0,0,0,0,0,0,0,0,0,1319,0,1321,0,0,0,0,0,1327,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1361,0,0,0,0,0,1367,0,0,0,0,0,1373,0,0,0,0,0,0,0,1381,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1399,0,0,0,0,0,0,0,0,0,1409,0,0,0,0,0,0,0,0,0,0,0,0,0,1423,0,0,0,1427,0,1429,0,0,0,1433,0,0,0,0,0,1439,0,0,0,0,0,0,0,1447,0,0,0,1451,0,1453,0,0,0,0,0,1459,0,0,0,0,0,0,0,0,0,0,0,1471,0,0,0,0,0,0,0,0,0,1481,0,1483,0,0,0,1487,0,1489,0,0,0,1493,0,0,0,0,0,1499,0,0,0,0,0,0,0,0,0,0,0,1511,0,0,0,0,0,0,0,0,0,0,0,1523,0,0,0,0,0,0,0,1531,0,0,0,0,0,0,0,0,0,0,0,1543,0,0,0,0,0,1549,0,0,0,1553,0,0,0,0,0,1559,0,0,0,0,0,0,0,1567,0,0,0,1571,0,0,0,0,0,0,0,1579,0,0,0,1583,0,0,0,0,0,0,0,0,0,0,0,0,0,1597,0,0,0,1601,0,0,0,0,0,1607,0,1609,0,0,0,1613,0,0,0,0,0,1619,0,1621,0,0,0,0,0,1627,0,0,0,0,0,0,0,0,0,1637,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1657,0,0,0,0,0,1663,0,0,0,1667,0,1669,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1693,0,0,0,1697,0,1699,0,0,0,0,0,0,0,0,0,1709,0,0,0,0,0,0,0,0,0,0,0,1721,0,1723,0,0,0,0,0,0,0,0,0,1733,0,0,0,0,0,0,0,1741,0,0,0,0,0,1747,0,0,0,0,0,1753,0,0,0,0,0,1759,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1777,0,0,0,0,0,1783,0,0,0,1787,0,1789,0,0,0,0,0,0,0,0,0,0,0,1801,0,0,0,0,0,0,0,0,0,1811,0,0,0,0,0,0,0,0,0,0,0,1823,0,0,0,0,0,0,0,1831,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1847,0,0,0,0,0,0,0,0,0,0,0,0,0,1861,0,0,0,0,0,1867,0,0,0,1871,0,1873,0,0,0,1877,0,1879,0,0,0,0,0,0,0,0,0,1889,0,0,0,0,0,0,0,0,0,0,0,1901,0,0,0,0,0,1907,0,0,0,0,0,1913,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1931,0,1933,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1949,0,1951,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1973,0,0,0,0,0,1979,0,0,0,0,0,0,0,1987,0,0,0,0,0,1993,0,0,0,1997,0,1999,0,0,0,2003,0,0,0,0,0,0,0,2011,0,0,0,0,0,2017,0,0,0,0,0,0,0,0,0,2027,0,2029,0,0,0,0,0,0,0,0,0,2039,0,0,0,0,0,0,0,0,0,0,0,0,0,2053,0,0,0,0,0,0,0,0,0,2063,0,0,0,0,0,2069,0,0,0,0,0,0,0,0,0,0,0,2081,0,2083,0,0,0,2087,0,2089,0,0,0,0,0,0,0,0,0,2099,0,0,0,0,0,0,0,0,0,0,0,2111,0,2113,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2129,0,2131,0,0,0,0,0,2137,0,0,0,2141,0,2143,0,0,0,0,0,0,0,0,0,2153,0,0,0,0,0,0,0,2161,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2179,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2203,0,0,0,2207,0,0,0,0,0,2213,0,0,0,0,0,0,0,2221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2237,0,2239,0,0,0,2243,0,0,0,0,0,0,0,2251,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2267,0,2269,0,0,0,2273,0,0,0,0,0,0,0,2281,0,0,0,0,0,2287,0,0,0,0,0,2293,0,0,0,2297,0,0,0,0,0,0,0,0,0,0,0,2309,0,2311,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2333,0,0,0,0,0,2339,0,2341,0,0,0,0,0,2347,0,0,0,2351,0,0,0,0,0,2357,0,0,0,0,0,0,0,0,0,0,0,0,0,2371,0,0,0,0,0,2377,0,0,0,2381,0,2383,0,0,0,0,0,2389,0,0,0,2393,0,0,0,0,0,2399,0,0,0,0,0,0,0,0,0,0,0,2411,0,0,0,0,0,2417,0,0,0,0,0,2423,0,0,0,0,0,0,0,0,0,0,0,0,0,2437,0,0,0,2441,0,0,0,0,0,2447,0,0,0,0,0,0,0,0,0,0,0,2459,0,0,0,0,0,0,0,2467,0,0,0,0,0,2473,0,0,0,2477,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2503,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2521,0,0,0,0,0,0,0,0,0,2531,0,0,0,0,0,0,0,2539,0,0,0,2543,0,0,0,0,0,2549,0,2551,0,0,0,0,0,2557,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2579,0,0,0,0,0,0,0,0,0,0,0,2591,0,2593,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2609,0,0,0,0,0,0,0,2617,0,0,0,2621,0,0,0,0,0,0,0,0,0,0,0,2633,0,0,0,0,0,0,0,0,0,0,0,0,0,2647,0,0,0,0,0,0,0,0,0,2657,0,2659,0,0,0,2663,0,0,0,0,0,0,0,2671,0,0,0,0,0,2677,0,0,0,0,0,2683,0,0,0,2687,0,2689,0,0,0,2693,0,0,0,0,0,2699,0,0,0,0,0,0,0,2707,0,0,0,2711,0,2713,0,0,0,0,0,2719,0,0,0,0,0,0,0,0,0,2729,0,2731,0,0,0,0,0,0,0,0,0,2741,0,0,0,0,0,0,0,2749,0,0,0,2753,0,0,0,0,0,0,0,0,0,0,0,0,0,2767,0,0,0,0,0,0,0,0,0,2777,0,0,0,0,0,0,0,0,0,0,0,2789,0,2791,0,0,0,0,0,2797,0,0,0,2801,0,2803,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2819,0,0,0,0,0,0,0,0,0,0,0,0,0,2833,0,0,0,2837,0,0,0,0,0,2843,0,0,0,0,0,0,0,2851,0,0,0,0,0,2857,0,0,0,2861,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2879,0,0,0,0,0,0,0,2887,0,0,0,0,0,0,0,0,0,2897,0,0,0,0,0,2903,0,0,0,0,0,2909,0,0,0,0,0,0,0,2917,0,0,0,0,0,0,0,0,0,2927,0,0,0,0,0,0,0,0,0,0,0,2939,0,0,0,0,0,0,0,0,0,0,0,0,0,2953,0,0,0,2957,0,0,0,0,0,2963,0,0,0,0,0,2969,0,2971,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2999,0,3001,0,0,0,0,0,0,0,0,0,3011,0,0,0,0,0,0,0,3019,0,0,0,3023,0,0,0,0,0,0,0,0,0,0,0,0,0,3037,0,0,0,3041,0,0,0,0,0,0,0,3049,0,0,0,0,0,0,0,0,0,0,0,3061,0,0,0,0,0,3067,0,0,0,0,0,0,0,0,0,0,0,3079,0,0,0,3083,0,0,0,0,0,3089,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3109,0,0,0,0,0,0,0,0,0,3119,0,3121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3163,0,0,0,3167,0,3169,0,0,0,0,0,0,0,0,0,0,0,3181,0,0,0,0,0,3187,0,0,0,3191,0,0,0,0,0,0,0,0,0,0,0,3203,0,0,0,0,0,3209,0,0,0,0,0,0,0,3217,0,0,0,3221,0,0,0,0,0,0,0,3229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3251,0,3253,0,0,0,3257,0,3259,0,0,0,0,0,0,0,0,0,0,0,3271,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3299,0,3301,0,0,0,0,0,3307,0,0,0,0,0,3313,0,0,0,0,0,3319,0,0,0,3323,0,0,0,0,0,3329,0,3331,0,0,0,0,0,0,0,0,0,0,0,3343,0,0,0,3347,0,0,0,0,0,0,0,0,0,0,0,3359,0,3361,0,0,0,0,0,0,0,0,0,3371,0,3373,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3389,0,3391,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3407,0,0,0,0,0,3413,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3433,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3449,0,0,0,0,0,0,0,3457,0,0,0,3461,0,3463,0,0,0,3467,0,3469,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3491,0,0,0,0,0,0,0,3499,0,0,0,0,0,0,0,0,0,0,0,3511,0,0,0,0,0,3517,0,0,0,0,0,0,0,0,0,3527,0,3529,0,0,0,3533,0,0,0,0,0,3539,0,3541,0,0,0,0,0,3547,0,0,0,0,0,0,0,0,0,3557,0,3559,0,0,0,0,0,0,0,0,0,0,0,3571,0,0,0,0,0,0,0,0,0,3581,0,3583,0,0,0,0,0,0,0,0,0,3593,0,0,0,0,0,0,0,0,0,0,0,0,0,3607,0,0,0,0,0,3613,0,0,0,3617,0,0,0,0,0,3623,0,0,0,0,0,0,0,3631,0,0,0,0,0,3637,0,0,0,0,0,3643,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3659,0,0,0,0,0,0,0,0,0,0,0,3671,0,3673,0,0,0,3677,0,0,0,0,0,0,0,0,0,0,0,0,0,3691,0,0,0,0,0,3697,0,0,0,3701,0,0,0,0,0,0,0,3709,0,0,0,0,0,0,0,0,0,3719,0,0,0,0,0,0,0,3727,0,0,0,0,0,3733,0,0,0,0,0,3739,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3761,0,0,0,0,0,3767,0,3769,0,0,0,0,0,0,0,0,0,3779,0,0,0,0,0,0,0,0,0,0,0,0,0,3793,0,0,0,3797,0,0,0,0,0,3803,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3821,0,3823,0,0,0,0,0,0,0,0,0,3833,0,0,0,0,0,0,0,0,0,0,0,0,0,3847,0,0,0,3851,0,3853,0,0,0,0,0,0,0,0,0,3863,0,0,0,0,0,0,0,0,0,0,0,0,0,3877,0,0,0,3881,0,0,0,0,0,0,0,3889,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3907,0,0,0,3911,0,0,0,0,0,3917,0,3919,0,0,0,3923,0,0,0,0,0,3929,0,3931,0,0,0,0,0,0,0,0,0,0,0,3943,0,0,0,3947,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3967,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3989,0,0,0,0,0,0,0,0,0,0,0};
int f(int x)
{
    if(x==father[x][0])return x;
    else return f(father[x][0]);
}
int main()
{
    int m,n,t1,t2,i,num,j,zhis=0,fei=0,fa,f1,f2;
    double s;
    scanf("%d%d",&n,&m);
    for(i=0;i<=n;i++)
        {
            father[i][0]=i;
            father[i][1]=0;
            //zhi[i]=i;
        }
    //zhi[1]=0;
    //for(i=3;i<=n;i++)
    //   {
    //        s=sqrt(i);
    //        for(j=0;j<=s;j++)
    //            if(zhi[j]!=0&&zhi[i]%zhi[j]==0)zhi[i]=0;  
    //   }              
    for(i=0;i<m;i++)
        {
            scanf("%d%d",&t1,&t2);
            f1=f(t1);
            f2=f(t2);
            if(f1==f2)continue;
            if(f1==t1){father[t1][0]=t2;father[f1][1]++;}
            else if(f2==t2){father[t2][0]=t1;father[f2][1]++;}
            else if(father[f1][1]>father[f2][1]){father[f2][0]=father[f1][0];father[f2][1]=father[f2][1]+father[f1][1];}
            else {father[f1][0]=father[f2][0];father[f1][1]=father[f2][1]+father[f1][1];}
            /*for(j=1;j<=n;j++)
            printf("%d %d\n",j,f(j));
            printf("\n");*/
        }
    scanf("%d",&num);
    fa=f(num);
    for(i=1;i<=n;i++)
        {if(f(i)==fa)
           if(zhi[i]==0)fei++;
           else zhis++;}
    printf("%d\n",zhis<fei?zhis:fei);
    system("pause");
    return 0;
}
